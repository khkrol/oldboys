<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Dr. Ümit's Ziekenboeg</title>
    
    <link rel="apple-touch-icon" href="../assets/images/potters.jpg">
    <link rel="icon" href="../assets/images/potters.jpg">
    <link rel="manifest" href="../manifest.json">
    <meta name="theme-color" content="#3D7C3B">
    <meta name="mobile-web-app-capable" content="yes">

    <link rel="stylesheet" href="../css/global.css">
    <link rel="stylesheet" href="../css/tools.css">


    <style>
        /* Tabs styling */
        .calc-tabs { display: flex; gap: 5px; margin-bottom: 15px; background: #eee; padding: 5px; border-radius: 8px; }
        .tab-btn { flex: 1; padding: 10px; border: none; background: transparent; cursor: pointer; border-radius: 6px; font-weight: bold; color: #666; }
        .tab-btn.active { background: var(--white); color: var(--ht-green); box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        
        /* Resultaat styling */
        .time-result { font-size: 0.9em; margin-top: 5px; color: #333; }
        .date-highlight { font-weight: bold; color: var(--ht-green-dark); display: block; font-size: 1.1em; }
        .sublevel-display { text-align: center; margin-bottom: 15px; font-weight: bold; font-size: 1.2em; color: var(--ht-green); }
    </style>
</head>
<body>

<div class="app-container">
    <div class="header">
        <div class="logo-container">
            <img src="../assets/images/logo.png" alt="Hattrick Logo" class="ht-logo">
            <img src="../assets/images/potters.jpg" alt="Potter's Old Boys Logo" class="pob-logo">
        </div>
        <h1>Dr. Ümit's Poli</h1>
    </div>

    <div class="character-display">
        <img src="images/umit.jpg" alt="Dr. Ümit" class="character-photo">
        <div class="quote-wrapper">
            <div class="quote-box" id="umitQuote">
                <div>
                    <span class="name-tag">Dr. Ümit:</span>
                    <button class="info-btn" onclick="InjuryCalculator.toggleModal()">i</button>
                </div>
                "Met de TSI-methode kan ik tot op de minuut nauwkeurig zien wanneer je speler weer kan vlammen."
            </div>
        </div>
    </div>

    <div class="input-group row-2">
        <div>
            <label>Leeftijd</label>
            <input type="number" id="age" value="25" min="17" max="60">
        </div>
        <div>
            <label>Dokters</label>
            <select id="medic">
                <option value="0">0 (Geen)</option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5" selected>5 (Max)</option>
            </select>
        </div>
    </div>

    <div class="input-group">
        <label>Competitie (voor update tijd)</label>
        <select id="country">
            <option value="nederland">Nederland (05:05)</option>
            <option value="curacao">Curaçao (06:25)</option>
            <option value="suriname">Suriname (06:11)</option>
            <option value="indonesie">Indonesië (23:00)</option>
        </select>
    </div>

    <div class="calc-tabs">
        <button class="tab-btn active" onclick="InjuryCalculator.switchTab('tsi')" id="tabTsi">TSI Analyse</button>
        <button class="tab-btn" onclick="InjuryCalculator.switchTab('week')" id="tabWeek">Visuele Schatting</button>
    </div>

    <div id="inputTsi" class="method-section">
        <div class="input-group">
            <label>Huidige TSI (Geblesseerd)</label>
            <input type="number" id="tsiCurrent" placeholder="Bijv. 1250">
        </div>
        <div class="input-group">
            <label>Gezonde TSI (Basislijn)</label>
            <input type="number" id="tsiHealthy" placeholder="Bijv. 2100">
            <div class="range-info">Check vorige wedstrijd</div>
        </div>
    </div>

    <div id="inputWeek" class="method-section hidden">
        <div class="input-group">
            <label>Blessure in weken (Visueel)</label>
            <input type="number" id="weeksInput" value="2.0" step="0.1">
            <div class="range-info">Bijv. vul 2.0 in als je '+2' ziet.</div>
        </div>
    </div>

    <button class="btn-primary" onclick="InjuryCalculator.calculate()">Bereken Herstel</button>

    <hr style="margin: 20px 0; border: 0; border-top: 1px solid #eee;">

    <div id="resultsArea" class="hidden">
        <div class="sublevel-display">
            Blessure Sublevel: <span id="sublevelVal">0.00</span>
        </div>

        <div class="results-container">
            <div class="result-box secondary" id="boxPlay">
                <div class="label-small">Speelklaar (Pleister)</div>
                <div class="time-result">
                    <span class="date-highlight" id="datePlay">-</span>
                    <span id="updatesPlay">0</span> updates
                </div>
            </div>

            <div class="result-box primary" id="boxHeal">
                <div class="label-small">Volledig Hersteld</div>
                <div class="time-result">
                    <span class="date-highlight" id="dateHeal">-</span>
                    <span id="updatesHeal">0</span> updates
                </div>
            </div>
        </div>
    </div>

</div>

<div id="infoModal" class="modal hidden">
    <div class="modal-content">
        <div class="modal-header">Hoe werkt dit?</div>
        <p>Deze tool gebruikt de <strong>Sublevel Formule</strong> uit geavanceerd onderzoek.</p>
        <ul>
            <li><strong>TSI Methode:</strong> Berekent exact hoe zwaar de blessure is (bijv. 2.85). Dit is veel nauwkeuriger dan de weken die Hattrick toont.</li>
            <li><strong>Dokters & Leeftijd:</strong> Een 17-jarige herstelt veel sneller (~10% per update) dan een 30-jarige. Niveau 5 dokters kunnen dit proces verdubbelen.</li>
        </ul>
        <button class="close-btn" onclick="InjuryCalculator.toggleModal()">Sluiten</button>
    </div>
</div>

<script src="js/injury.js"></script>

</body>
</html>