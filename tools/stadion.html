<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Stadion Calculator - Potter's Old Boys</title>
    
    <link rel="apple-touch-icon" href="../assets/images/potters.jpg">
    <link rel="icon" href="../assets/images/potters.jpg">
    <link rel="manifest" href="../manifest.json">
    <meta name="theme-color" content="#3D7C3B">
    <meta name="mobile-web-app-capable" content="yes">

    <link rel="stylesheet" href="../css/global.css">

    <style>
        /* Specifieke stijlen voor de Stadion Calculator */
        .total-banner {
            background-color: var(--ht-yellow);
            padding: 15px;
            border-radius: var(--radius);
            text-align: center;
            margin-top: 20px;
            font-weight: bold;
            color: var(--ht-text);
            border: 1px solid #e0a800;
        }

        .total-val { 
            font-size: 2em; 
            color: var(--ht-green); 
            display: block; 
            margin-top: 5px;
        }

        .sector-table {
            width: 100%;
            margin-top: 20px;
            border-collapse: collapse;
            font-size: 0.9em;
        }

        .sector-table th { 
            background-color: var(--ht-green); 
            color: var(--white); 
            text-align: left; 
            padding: 10px; 
            border-top-left-radius: 4px;
            border-top-right-radius: 4px;
        }
        
        /* Zorgt dat alleen de eerste en laatste th de radius krijgen */
        .sector-table th:not(:first-child):not(:last-child) { border-radius: 0; }
        
        .sector-table td { 
            padding: 10px; 
            border-bottom: 1px solid #eee; 
            color: var(--ht-text);
        }
        
        .sector-table tr:last-child td { border-bottom: none; }
    </style>
</head>
<body>

<div class="app-container">
    <div class="header">
        <div class="logo-container">
            <img src="../assets/images/logo.png" alt="Hattrick" class="ht-logo">
            <img src="../assets/images/potters.jpg" alt="Potters" class="pob-logo">
        </div>
        <h1>Stadion Calculator</h1>
    </div>

    <div class="character-display">
        <img src="images/donnie.jpg" alt="Donnie" class="character-photo">
        <div class="quote-wrapper">
            <div class="quote-box">
                <div>
                    <span class="name-tag">Donnie van Baarschot:</span>
                    <button class="info-btn" onclick="openModal()">i</button>
                </div>
                "Dit stadion is precies groot genoeg voor een flinke polonaise!"
            </div>
        </div>
    </div>

    <div class="input-group">
        <label>Grootte fanclub</label>
        <input type="number" id="fans" value="1500" oninput="berekenStadion()">
    </div>

    <div class="input-group">
        <label>Stemming van de supporters</label>
        <select id="stemming" onchange="berekenStadion()">
            <option value="11.53">Onthutst (furious)</option>
            <option value="13.09">Woedend (angry)</option>
            <option value="14.63">Geïrriteerd (irritated)</option>
            <option value="16.17">Teleurgesteld (disappointed)</option>
            <option value="17.72">Kalm (calm)</option>
            <option value="19.27">Tevreden (content)</option>
            <option value="20.83" selected>Verheugd (satisfied)</option>
            <option value="22.39">Dolblij (delirious)</option>
            <option value="23.95">In de zevende hemel (high on life)</option>
            <option value="25.52">De polonaise (dancing in the streets)</option>
            <option value="27.09">Liefdesverklaringen (sending love poems)</option>
        </select>
    </div>

    <div class="total-banner">
        TOTAAL CAPACITEIT
        <span class="total-val" id="totaalDisplay">31.002</span>
    </div>

    <table class="sector-table">
        <thead>
            <tr><th>Sector</th><th>Aantal</th></tr>
        </thead>
        <tbody>
            <tr><td>Staanplaatsen</td><td class="text-bold" id="resStaan">17.862</td></tr>
            <tr><td>Zitplaatsen</td><td class="text-bold" id="resZit">6.736</td></tr>
            <tr><td>Zitplaatsen overdekt</td><td class="text-bold" id="resDak">5.716</td></tr>
            <tr><td>VIP-boxen (incl. Martin en Klaas)</td><td class="text-bold" id="resVip">688</td></tr>
        </tbody>
    </table>
</div>

<div id="infoModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">Hoe wordt dit berekend?</div>
        <p><strong>1. Basis Capaciteit:</strong> De grootte van de fanclub wordt vermenigvuldigd met de multiplier van de supportersstemming.</p>
        <p><strong>2. Afronding:</strong> Dit getal wordt afgerond op het dichtstbijzijnde duizendtal.</p>
        <p><strong>3. Martin en Klaas Bonus:</strong> Er worden standaard 2 extra VIP-plaatsen toegevoegd aan het totaal.</p>
        <p><strong>4. Sectoren:</strong> De verdeling is gebaseerd op officiële Hattrick-data:<br>
        - Staanplaatsen: 57,62%<br>
        - Zitplaatsen: 21,73%<br>
        - Overdekt: 18,44%<br>
        - VIP: Restant (zorgt voor totaal eindigend op 2).</p>
        <button class="close-btn" onclick="closeModal()">Sluiten</button>
    </div>
</div>

<script>
    function berekenStadion() {
        const fans = parseFloat(document.getElementById('fans').value) || 0;
        const multiplier = parseFloat(document.getElementById('stemming').value);

        const idealeCapaciteit = fans * multiplier;
        const afgerondDuizendtal = Math.round(idealeCapaciteit / 1000) * 1000;
        const totaalDoel = afgerondDuizendtal + 2;

        const staan = Math.round(afgerondDuizendtal * 0.5762);
        const zit = Math.round(afgerondDuizendtal * 0.2173);
        const dak = Math.round(afgerondDuizendtal * 0.1844);
        const vipTotaal = totaalDoel - staan - zit - dak;

        document.getElementById('totaalDisplay').innerText = totaalDoel.toLocaleString('nl-NL');
        document.getElementById('resStaan').innerText = staan.toLocaleString('nl-NL');
        document.getElementById('resZit').innerText = zit.toLocaleString('nl-NL');
        document.getElementById('resDak').innerText = dak.toLocaleString('nl-NL');
        document.getElementById('resVip').innerText = vipTotaal.toLocaleString('nl-NL');
    }

    function openModal() { document.getElementById('infoModal').style.display = 'flex'; }
    function closeModal() { document.getElementById('infoModal').style.display = 'none'; }

document.addEventListener('DOMContentLoaded', berekenStadion);
</script>

</body>
</html>